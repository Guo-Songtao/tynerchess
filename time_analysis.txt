for each leaf node:
    search(leaf, 0)
        leaf.calcScore()
            leaf.gameEnd()
                leaf.allLeagalMoves()
                    leaf.allMoves()
                    leaf.makeMove(mv)
                        leaf.__deepcopy__()
                    leaf_moved.isChecked()
                        leaf_moves.isSquareAttacked(kingsquare)
                leaf.checkmate()
                    leaf.allLeagalMoves()
                        leaf.allMoves()
                        leaf.makeMove(mv)
                            deepcopy(leaf)
                        leaf_moved.isChecked()
                            leaf_moves.isSquareAttacked(kingsquare)
            leaf.isMiddleGame()